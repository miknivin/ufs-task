
<section class="w-full flex justify-center items-center min-h-[80vh]">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="max-w-2xl min-w-[32.625rem] mx-auto pt-11">
    <div class="grid md:grid-cols-2 md:gap-6">
      <div class="relative z-0 w-full mb-5 group">
        <input formControlName="firstName" type="text" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" required />
        <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">First name</label>
        @if (userForm.get('firstName')?.touched && userForm.get('firstName')?.invalid) {
          <div  class="text-red-500 text-sm">
            @if (userForm.get('firstName')?.hasError('required')) {
              <small >First name is required.</small>
            }
          </div>
        }

      </div>
      <div class="relative z-0 w-full mb-5 group">
        <input formControlName="lastName" type="text" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" required />
        <label for="floating_last_name"  class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Last name</label>
        @if (userForm.get('lastName')?.touched && userForm.get('lastName')?.invalid) {
          <div  class="text-red-500 text-sm">
            @if (userForm.get('firstName')?.hasError('required')) {
              <small >Last name is required.</small>
            }
          </div>
        }
      </div>
    </div>

    <div class="grid md:grid-cols-2 md:gap-6">
      <div class="relative z-0 w-full mb-5 group">
        <input formControlName="phoneNumber" type="tel"  class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" required />
        <label for="floating_phone" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Phone number</label>
        <div *ngIf="userForm?.get('phoneNumber')?.touched && userForm.get('phoneNumber')?.invalid" class="text-red-500 text-sm">
          <div *ngIf="userForm.get('phoneNumber')?.errors?.['required']">Phone number is required.</div>
          <div *ngIf="userForm.get('phoneNumber')?.errors?.['pattern']">Please enter a valid phone number in the format</div>
        </div>
      </div>
      <div class="relative z-0 w-full mb-5 group">
        <input formControlName="email" type="email" id="floating_email" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" required />
        <label for="floating_email" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Email address</label>
      </div>
    </div>

    <div class="relative z-0 w-full mb-5 group">
      <textarea formControlName="professionalSummary" id="professionalSummary" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" required></textarea>
      <label for="professionalSummary" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Professional Summary</label>
    </div>

    <div class="relative z-0 w-full mb-5 group">
      <button (click)="openExperianceDialog()" type="button" class="btn btn-neutral w-full">Add Experiance</button>
    </div>
    <div class="relative z-0 w-full mb-5 group">

      @if (userForm.get('experience')?.value.length>0) {
        <h6 class="text-xl text-gray-900 dark:text-white">Experience</h6>
        @for (item of userForm.get('experience')?.value; track $index) {
          <button type="button" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
            {{item.companyName}}
            <span class="inline-flex items-center justify-center w-4 h-4 ms-2 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full">
              <i class="fa-solid fa-xmark"></i>
            </span>
          </button>
        }
      }



    </div>
    <div class="relative z-0 w-full mb-5 group">
      <button (click)="openEducationDialog()" type="button" class="btn btn-neutral w-full">Add Education</button>
    </div>
    <div class="relative z-0 w-full mb-5 group">

      @if (userForm.get('education')?.value.length>0) {
        <h6 class="text-xl text-gray-900 dark:text-white">Educations</h6>
        @for (item of userForm.get('education')?.value; track $index) {
          <button type="button" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
            {{item.course}}
            <span class="inline-flex items-center justify-center w-4 h-4 ms-2 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full">
              <i class="fa-solid fa-xmark"></i>
            </span>
          </button>
        }
      }


    </div>
    <!-- skills -->
    <div class="relative z-0 w-full mb-5 group">
      <div class="relative flex h-10 w-full ">
        <button
          (click)="addSkills()"
          class="!absolute right-1 top-1 z-10 select-none rounded bg-blue-500 py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none peer-placeholder-shown:pointer-events-none peer-placeholder-shown:bg-blue-gray-500 peer-placeholder-shown:opacity-50 peer-placeholder-shown:shadow-none"
          type="button"
          role="button"
          data-ripple-light="true"
        >
          Add
        </button>
        <input
          type="text"
          class="peer h-full w-full rounded-[7px] border border-blue-gray-200 bg-transparent px-3 py-2.5 pr-20 font-sans text-sm font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200 focus:border-2 focus:border-blue-500 focus:border-t-transparent focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50"
          placeholder=" "
          required
          formControlName="skillInput"
          #skillInputRef
        />

        <label class="before:content[' '] after:content[' '] pointer-events-none absolute left-0 -top-1.5 flex h-full w-full select-none text-[11px] font-normal leading-tight text-blue-gray-400 transition-all before:pointer-events-none before:mt-[6.5px] before:mr-1 before:box-border before:block before:h-1.5 before:w-2.5 before:rounded-tl-md before:border-t before:border-l before:border-blue-gray-200 before:transition-all after:pointer-events-none after:mt-[6.5px] after:ml-1 after:box-border after:block after:h-1.5 after:w-2.5 after:flex-grow after:rounded-tr-md after:border-t after:border-r after:border-blue-gray-200 after:transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:leading-[3.75] peer-placeholder-shown:text-blue-gray-500 peer-placeholder-shown:before:border-transparent peer-placeholder-shown:after:border-transparent peer-focus:text-[11px] peer-focus:leading-tight peer-focus:text-blue-500 peer-focus:before:border-t-2 peer-focus:before:border-l-2 peer-focus:before:!border-blue-500 peer-focus:after:border-t-2 peer-focus:after:border-r-2 peer-focus:after:!border-blue-500 peer-disabled:text-transparent peer-disabled:before:border-transparent peer-disabled:after:border-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500">
          Skills
        </label>
      </div>
      @if (userForm.get('skills')?.value.length>0) {
        <h6 class="text-xl text-gray-900 dark:text-white">Skills</h6>
        <div class="flex gap-3">
          @for (item of userForm.get('skills')?.value; track $index;let i = $index) {
            <button type="button" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
              {{item}}
              <span (click)="removeSkill(i)" class="inline-flex items-center justify-center w-4 h-4 ms-2 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full">
                <i class="fa-solid fa-xmark"></i>
              </span>
            </button>
          }
        </div>
     
      }


    </div>
    <button type="submit" [disabled]="userForm.invalid" class="text-white bg-blue-700 hover:bg-blue-800 disabled:bg-blue-700/50 btn">Submit</button>
  </form>
</section>


